# Tribehub API Endpoints with example output

| **URL**                               | **HTTP Method** | **CRUD operation** | **View type** | **POST data format**                                                                                                                                                                              | **Example output**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | **Notes**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|---------------------------------------|-----------------|--------------------|---------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                       |                 |                    |               |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **Custom user <br>account endpoints** |                 |                    |               |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| /accounts/tribe                       | POST            | Create             | List          | {<br>    "username":"string",<br>    "password":"string",<br>    "password2":"string",<br>    "tribename":"string"<br>}                                                                           | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Handles creation of a new user account with 'tribe' admin permissions,<br>creates a new user profile and a new tribe attached to that user.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| /accounts/user                        | POST            | Create             | List          | {<br>    "username":"string",<br>    "password":"string",<br>    "password2":"string"<br>}                                                                                                        | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Only tribe admins have permission for this endpoint.<br><br>Handles creation of a new user account without tribe admin permissions,<br> creates a new user profile and associates them with the same tribe as the<br>tribe admin who creates the account.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| /accounts/user/                       | DELETE          | Delete             | Detail        | N/A                                                                                                                                                                                               | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Handles deletion of the specified user account and profile. If the action is performed <br>by the tribe admin, the tribe and all the user accounts associated with it are also<br>deleted.<br><br>Action can only be performed by users on their own accounts, and by the tribe<br>admin for user accounts which are part of their tribe.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **Tribe endpoints**                   |                 |                    |               |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| /tribe                                | GET             | Read               | List          | N/A                                                                                                                                                                                               | {<br><br>    "count": 1,<br><br>    "next": null,<br>    "previous": null,<br>    "results": [<br>        {<br>            "name": "Tribe1",<br>            "users": [<br>                {<br>                    "user_id": 6,<br>                    "display_name": "family1d"<br>                },<br>                {<br>                    "user_id": 5,<br>                    "display_name": "family1c"<br>                },<br>                {<br>                    "user_id": 4,<br>                    "display_name": "family1b"<br>                },<br>                {<br>                    "user_id": 3,<br>                    "display_name": "family1a"<br>                },<br>                {<br>                    "user_id": 2,<br>                    "display_name": "chief1"<br>                }<br>            ]<br>        }<br>    ]<br>}                                                                                                                                                                                                                                                                                           | Lists all the members of the current authenticated user's tribe.<br>Can't be accessed by non-authenticated users.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Profile endpoints**                 |                 |                    |               |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| /profile/id                           | GET             | Read               | Detail        | N/A                                                                                                                                                                                               | {<br><br>    "user": 3,<br>    "username": "family1a",<br>    "display_name": "family1a",<br>    "image": "image/upload/../placeholder_profile_xnpcwj.webp",<br>    "tribe": 1,<br>    "is_admin": false<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Retrieves profile details for the user id specified in the URL. Only members of the same <br>tribe as the requested profile can access this data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| /profile/id                           | PUT             | Update             | Detail        | {<br>    "display_name": "string",<br>    "image": "string",<br>    "is_admin": bool<br>}<br><br>Plus image data                                                                                  | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Updates existing user profiles. This action can only be performer by the user <br>who owns the profile, or the admin of that user's tribe.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Notification endpoints**            |                 |                    |               |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| /notifications                        | GET             | Read               | List          | N/A                                                                                                                                                                                               | {<br><br>    "count": 1,<br>    "next": null,<br>    "previous": null,<br>    "results": [<br>        {<br>            "id": 90,<br>            "user": 3,<br>            "date_created": "2023-01-12T12:27:46.989644",<br>            "subject": "Violin lesson - change",<br>            "message": "chief1 has made a change to this event.",<br>            "type": "INV",<br>            "event": 53<br>        }<br>    ]<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Lists all notifications for the authenticated user.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| /notifications/id                     | DELETE          | Delete             | Detail        | N/A                                                                                                                                                                                               | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Deletes the specified notification.<br>This action can only be performed by the owner of the notification.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **Event endpoints**                   |                 |                    |               |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| /events                               | GET             | Read               | List          | N/A                                                                                                                                                                                               | Only one event is included in the example due to the size of the <br>data.<br><br>{<br><br>    "count": 17,<br>    "next": null,<br>    "previous": null,<br>    "results": [<br>        {<br>            "id": 111,<br>            "user": {<br>                "user_id": 2,<br>                "display_name": "chief1"<br>            },<br>            "tribe": {<br>                "tribe_id": 1,<br>                "tribe_name": "Tribe1"<br>            },<br>            "to": [<br>                {<br>                    "user_id": 4,<br>                    "display_name": "family1b"<br>                },<br>                {<br>                    "user_id": 6,<br>                    "display_name": "family1d"<br>                },<br>                {<br>                    "user_id": 3,<br>                    "display_name": "family1a"<br>                }<br>            ],<br>            "start": "2023-01-20T10:00:00",<br>            "duration": "00:02:00",<br>            "recurrence_type": "TWK",<br>            "subject": "Violin lesson - change",<br>            "category": "EDU",<br>            "accepted": []<br>        }, | Returns all the scheduled events for the tribe to which the authenticated user belongs.<br>If no dates are specified, the next two months events are returned.<br><br>This endpoint programatically generates repeat occurrences where a repeat type has been <br>specified for an event, i.e. repeats are not stored in the database. Repeat occurrences <br>are indicated with a 'recurrence_type' value of 'REC'.<br><br>The following URL parameters are optionally available with this end point:<br><br>from_date=YYYY-MM-DDThh:mm:ss - accepts an ISO8601 format date and returns all events for the tribe from the <br>specified date up until the specified to_date, or for the next two months if no to_date is <br>specified.<br><br>to_date=YYYY-MM-DDThh:mm:ss - accepts an ISO8601 format date and returns all events for the tribe from today <br>or from the specified from_date.<br><br>category=string - accepts a valid category code and returns corresponding events <br><br>to=int - returns events to which the specified user is invited. Users who are not part of the<br>same tribe cannot access this data.<br><br>search=string - returns events where the search term is found in the subject field. |
| /events                               | POST            | Create             | List          | {<br><br>    "to": [id, id...],<br>    "start": "YYYY-MM-DDThh:mm:ss",<br>    "duration": float,<br>    "recurrence_type": "String",<br>    "subject": "String",<br>    "category": "String"<br>} | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Creates a new event for the tribe to which the user belongs.<br>Only users in the same tribe as the authenticated user can be invited.<br><br><br>Valid recurrence types are:<br>NON = None<br>WEK = Weekly<br>TWK = Two weekly<br>MON = Monthly<br>YEA = Yearly<br><br>Valid category strings are in events/event_values.py                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| /events/id                            | GET             | Read               | List          | N/A                                                                                                                                                                                               | Returns a single event with the same format as the event within the <br>results list for the events/ list endpoint above.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Returns details of a single event. Data is restricted to users who are members of the tribe <br>with which the event associated.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| /events/id                            | PUT             | Update             | Detail        | {<br><br>    "to": [id, id...],<br>    "start": "YYYY-MM-DDThh:mm:ss",<br>    "duration": float,<br>    "recurrence_type": "String",<br>    "subject": "String",<br>    "category": "String"<br>} | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Updates details of an existing event. This action is restricted to the user who created the <br>event and the tribe admin.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| /events/id                            | DELETE          | Delete             | Detail        | N/A                                                                                                                                                                                               | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Deletes the specified event. This action is restricted to the user who created the <br>event and the tribe admin.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| /events/response/id                   | PUT             | Update             | Detail        | {<br>    "event_response":"accept" OR "decline"<br>}                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Records the authenticated user as having accepted or declined an invitation to <br>the specified event. Returns an error message if the user was not invited.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Contact endpoints**                 |                 |                    |               |                                                                                                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| /contacts                             | GET             | Read               | List          | N/A                                                                                                                                                                                               | Only one contact is shown in the example due to the size of the<br>data.<br>{<br><br>    "count": 2,<br>    "next": null,<br>    "previous": null,<br>    "results": [<br>        {<br>            "id": 21,<br>            "tribe": {<br>                "tribe_id": 3,<br>                "tribe_name": "Tribe2"<br>            },<br>            "category": "Dentist",<br>            "title": "Dr",<br>            "first_name": "Raymond",<br>            "last_name": "Cartwright",<br>            "phone": "01929 747747",<br>            "email": "<br>rcartwright@thepractice.co.uk<br>"<br>        },                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Returns all the contacts for the authenticated user's tribe.<br>Accepts a URL search parameter, which searches for the specified string in the category, title, first_name, last_name, phone and email fields.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| /contacts                             | POST            | Create             | List          | {<br>    "category": "String",<br>    "title": "String",<br>    "first_name": "String",<br>    "last_name": "String",<br>    "phone": "String",<br>    "email": "String"<br>}                     | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Creates a new contact for the authenticated user's tribe. This action is restricted to tribe admins.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| /contacts/id                          | PUT             | Update             | Detail        | {<br>    "category": "String",<br>    "title": "String",<br>    "first_name": "String",<br>    "last_name": "String",<br>    "phone": "String",<br>    "email": "String"<br>}                     | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Updates details of an existing contact for the user's tribe.<br>This action is restricted to tribe admins.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| /contacts/id                          | DELETE          | Delete             | Detail        | N/A                                                                                                                                                                                               | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Delete the specified contact. This action is restricted to the admin of the tribe <br>to which the contact is associated.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

Table generated using https://www.tablesgenerator.com/markdown_tables/load